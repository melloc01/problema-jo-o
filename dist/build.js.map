{"version":3,"sources":["webpack:///build.js","webpack:///webpack/bootstrap cab817f1b4d712deaa9f","webpack:///./src/parsers.js","webpack:///./src/getActualFactsHashmap.js","webpack:///./src/resources/facts.js","webpack:///./src/resources/schema.js","webpack:///./src/FactsCollection.js","webpack:///./src/validators.js","webpack:///./src/main.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","_defineProperty","obj","key","writable","parseFact","fact","_fact","_slicedToArray","entityName","attribute","valid","parseSchema","schema","newSchema","map","schemaRow","sliceIterator","arr","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","length","err","Array","isArray","TypeError","__WEBPACK_IMPORTED_MODULE_0__FactsCollection__","facts","factsColection","actualItems","_classCallCheck","instance","Constructor","compareFacts","factA","factB","__WEBPACK_IMPORTED_MODULE_0__parsers__","__WEBPACK_IMPORTED_MODULE_1__validators__","_createClass","defineProperties","target","props","descriptor","protoProps","staticProps","Facts","items","arguments","this","hashMap","applySchema","addedIndex","cardinality","idx","find","addToHashMap","findIndex","item","splice","removeFromHashMap","console","log","index","_fact2","_fact3","_this","_parseFact","add","remove","validateAttributeSchema","Error","__WEBPACK_IMPORTED_MODULE_0__resources_schema__","__WEBPACK_IMPORTED_MODULE_1__resources_facts__","__WEBPACK_IMPORTED_MODULE_2__parsers__","__WEBPACK_IMPORTED_MODULE_3__getActualFactsHashmap__","schemaObject","actualFacts","table"],"mappings":"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","file":"build.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 6);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return parseFact; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return parseSchema; });\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n/**\n * Parses a fact array to a object.\n * @param  {Array} fact The fact array. [entityName, attributeName, attributeValue, valid]\n *\n * @return {Object} the fact object. { \"entityName\": entityName, \"attribute\": attributeName, \"value\": attributeValue, \"valid\", valid }\n */\nfunction parseFact(fact) {\n  var _fact = _slicedToArray(fact, 4),\n      entityName = _fact[0],\n      attribute = _fact[1],\n      value = _fact[2],\n      valid = _fact[3];\n\n  return {\n    entityName: entityName,\n    attribute: attribute,\n    value: value,\n    valid: valid\n  };\n}\n\n/**\n * Parses the schema to a object.\n *\n * @param  {Array} schema The schema array. [ \"endereço\", \"cardinality\", \"one\" ]\n *\n * @return {Object}       The schema object. {\"endereço\": { \"cardinality\": \"one\" } }\n */\nfunction parseSchema(schema) {\n  var newSchema = {};\n\n  schema.map(function (schemaRow) {\n    newSchema[schemaRow[0]] = _defineProperty({}, schemaRow[1], schemaRow[2]);\n  });\n\n  return newSchema;\n}\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__FactsCollection__ = __webpack_require__(4);\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = function (schema, facts) {\n  var factsColection = new __WEBPACK_IMPORTED_MODULE_0__FactsCollection__[\"a\" /* default */](schema, facts);\n  return factsColection.actualItems;\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = [['gabriel', 'endereço', 'av rio branco, 109', true], ['joão', 'endereço', 'rua alice, 10', true], ['joão', 'endereço', 'rua bob, 88', true], ['joão', 'telefone', '234-5678', true], ['joão', 'telefone', '91234-5555', true], ['joão', 'telefone', '234-5678', false], ['gabriel', 'telefone', '98888-1111', true], ['gabriel', 'telefone', '56789-1010', true]];\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = [['endereço', 'cardinality', 'one'], ['telefone', 'cardinality', 'many']];\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__parsers__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__validators__ = __webpack_require__(5);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\nvar Facts = function () {\n\n  /**\n   * Class constructor.\n   * @param {Object} schema The schema object.\n   * @param {Array} schema The facts array.\n   */\n  function Facts(schema) {\n    var items = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    _classCallCheck(this, Facts);\n\n    this.items = items;\n    this.schema = schema;\n    this.actualItems = [];\n    this.hashMap = {};\n    this.applySchema();\n  }\n\n  /**\n   * Adds a fact.\n   * @param {Object}  fact  a Fact Object.\n   * @return {void}\n   */\n\n\n  _createClass(Facts, [{\n    key: 'add',\n    value: function add(fact) {\n      var attribute = fact[1];\n      var addedIndex = -1;\n      if (this.schema[attribute].cardinality === 'one') {\n        var idx = this.find(fact);\n\n        // look for actual facts to overwrite the existing one\n        // if not present, push\n        if (idx === -1) {\n          addedIndex = this.actualItems.push(fact) - 1;\n        } else {\n          addedIndex = idx;\n          // else overwrite\n          this.actualItems[idx] = fact;\n        }\n      }\n\n      if (this.schema[attribute].cardinality === 'many') {\n        // just push and updates the idx variable\n        addedIndex = this.actualItems.push(fact) - 1;\n      }\n\n      this.addToHashMap(fact, addedIndex);\n    }\n\n    /**\n     * Finds a fact in the hashmap using entityName and attribute as key.\n     * Works like Array.prototype.findIndex\n     * @return {Number} index   The index of the item on the this.actualItems array\n     */\n\n  }, {\n    key: 'find',\n    value: function find(fact) {\n      var _fact = _slicedToArray(fact, 2),\n          entityName = _fact[0],\n          attribute = _fact[1];\n\n      if (this.hashMap[entityName] && this.hashMap[entityName][attribute]) {\n        return this.hashMap[entityName][attribute]['index'];\n      }\n\n      return -1;\n    }\n\n    /**\n     * Removes a fact.\n     * @param {Object} fact   The fact object.\n     * @returns {void}\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(fact) {\n      var idx = this.actualItems.findIndex(function (item) {\n        return compareFacts(item, fact);\n      });\n      if (idx !== -1) {\n        this.actualItems.splice(idx, 1);\n        this.removeFromHashMap(fact);\n      }\n      return idx;\n    }\n\n    /**\n     * Print items on the console.\n     */\n\n  }, {\n    key: 'print',\n    value: function print() {\n      console.log(this.actualItems);\n    }\n\n    /**\n     * Adds a fact to the hashmap.\n     *\n     * @param {Object} fact   The fact object.\n     * @param {Number} index  The index of the item on this.actualItems array\n     */\n\n  }, {\n    key: 'addToHashMap',\n    value: function addToHashMap(fact, index) {\n      var _fact2 = _slicedToArray(fact, 3),\n          entityName = _fact2[0],\n          attribute = _fact2[1],\n          value = _fact2[2];\n\n      if (!this.hashMap[entityName]) {\n        this.hashMap[entityName] = {};\n      }\n\n      if (!this.hashMap[entityName][attribute]) {\n        this.hashMap[entityName][attribute] = {};\n      }\n\n      if (!this.hashMap[entityName][attribute][value]) {\n        this.hashMap[entityName][attribute]['index'] = index;\n        this.hashMap[entityName][attribute]['value'] = value;\n      }\n    }\n\n    /**\n     * Removes a fact from Hashmap.\n     * @param {Object} fact The fact object.\n     * @return {void}\n     */\n\n  }, {\n    key: 'removeFromHashMap',\n    value: function removeFromHashMap(fact) {\n      var _fact3 = _slicedToArray(fact, 3),\n          entityName = _fact3[0],\n          attribute = _fact3[1],\n          value = _fact3[2];\n\n      if (this.hashMap[entityName] && this.hashMap[entityName][attribute] && this.hashMap[entityName][attribute][value]) {\n        delete this.hashMap[entityName][attribute];\n      }\n    }\n\n    /**\n     * Applies the schema and save the results into the actualFacts property.\n     * @return {void}\n     */\n\n  }, {\n    key: 'applySchema',\n    value: function applySchema() {\n      var _this = this;\n\n      this.items.map(function (fact) {\n        var _parseFact = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__parsers__[\"b\" /* parseFact */])(fact),\n            attribute = _parseFact.attribute,\n            valid = _parseFact.valid;\n\n        // validate schema for the attribute\n\n\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__validators__[\"a\" /* validateAttributeSchema */])(_this.schema, attribute);\n\n        // if valid try to add\n        if (valid) {\n          _this.add(fact);\n        } else {\n          // if entity exists, delete it\n          _this.remove(fact);\n        }\n      });\n    }\n  }]);\n\n  return Facts;\n}();\n\n/**\n * Compare facts A and B.\n *\n * @param  {Object}   factA Fact object A\n * @param  {Object}   factB Fact object B\n * @return {Boolean}  returns if comparison is true\n */\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = Facts;\nfunction compareFacts(factA, factB) {\n  return factA[0] === factB[0] && factA[1] === factB[1];\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export validatePhone */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return validateAttributeSchema; });\n\n\n/**\n * Validates an attribute's schema.\n *\n * @param  {Object} schema    The schema object.\n * @param  {String} attribute The attribute value.\n *\n * @throws InvalidAttributeSchema If schema is invalid.\n *\n * @return {void}\n */\nfunction validateAttributeSchema(schema, attribute) {\n  if (!schema[attribute]) {\n    throw new Error('Schema not defined for attribute: ' + attribute);\n  }\n  if (!schema[attribute].cardinality) {\n    throw new Error('Schema for \"cardinality\" not defined for attribute: ' + attribute);\n  }\n}\n\n/**\n * Validates a telephone number.\n *\n * @param  {String} phone   The phone number.\n * @param  {String} country The country code.\n *\n * @return {Boolean}      returns true if it is a valid phone.\n */\nfunction validatePhone(phone) {\n  var country = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'BR';\n\n  switch (country) {\n    case 'BR':\n      return (/\\d{4,5}-{0,1}\\d{4}/.test(phone)\n      );\n    default:\n      throw new Error('Validation for country: ' + country + ' not found.');\n  }\n}\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__resources_schema__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__resources_facts__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__parsers__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__getActualFactsHashmap__ = __webpack_require__(1);\n\n\n\n\n\nvar schemaObject = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__parsers__[\"a\" /* parseSchema */])(__WEBPACK_IMPORTED_MODULE_0__resources_schema__[\"a\" /* default */]);\nvar actualFacts = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__getActualFactsHashmap__[\"a\" /* default */])(schemaObject, __WEBPACK_IMPORTED_MODULE_1__resources_facts__[\"a\" /* default */]);\n\n// better visualization on browser\nif (typeof console.table === 'function') {\n  console.table(actualFacts);\n} else {\n  console.log(actualFacts);\n}\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// build.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cab817f1b4d712deaa9f","export {\n  parseFact,\n  parseSchema\n}\n\n/**\n * Parses a fact array to a object.\n * @param  {Array} fact The fact array. [entityName, attributeName, attributeValue, valid]\n *\n * @return {Object} the fact object. { \"entityName\": entityName, \"attribute\": attributeName, \"value\": attributeValue, \"valid\", valid }\n */\nfunction parseFact (fact) {\n  const [entityName, attribute, value, valid] = fact\n\n  return {\n    entityName,\n    attribute,\n    value,\n    valid\n  }\n}\n\n/**\n * Parses the schema to a object.\n *\n * @param  {Array} schema The schema array. [ \"endereço\", \"cardinality\", \"one\" ]\n *\n * @return {Object}       The schema object. {\"endereço\": { \"cardinality\": \"one\" } }\n */\nfunction parseSchema (schema) {\n  const newSchema = {}\n\n  schema.map(schemaRow => {\n    newSchema[schemaRow[0]] = {\n      [schemaRow[1]]: schemaRow[2]\n    }\n  })\n\n  return newSchema\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/parsers.js","import FactsCollection from './FactsCollection'\n\nexport default (schema, facts) => {\n  const factsColection = new FactsCollection(schema, facts)\n  return factsColection.actualItems\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/getActualFactsHashmap.js","export default [\n  ['gabriel', 'endereço', 'av rio branco, 109', true],\n  ['joão', 'endereço', 'rua alice, 10', true],\n  ['joão', 'endereço', 'rua bob, 88', true],\n  ['joão', 'telefone', '234-5678', true],\n  ['joão', 'telefone', '91234-5555', true],\n  ['joão', 'telefone', '234-5678', false],\n  ['gabriel', 'telefone', '98888-1111', true],\n  ['gabriel', 'telefone', '56789-1010', true]\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/resources/facts.js","export default [\n  ['endereço', 'cardinality', 'one'],\n  ['telefone', 'cardinality', 'many']\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/resources/schema.js","import { parseFact } from './parsers'\nimport { validateAttributeSchema } from './validators'\nexport default class Facts {\n\n  /**\n   * Class constructor.\n   * @param {Object} schema The schema object.\n   * @param {Array} schema The facts array.\n   */\n  constructor (schema, items = []) {\n    this.items = items\n    this.schema = schema\n    this.actualItems = []\n    this.hashMap = {}\n    this.applySchema()\n  }\n\n  /**\n   * Adds a fact.\n   * @param {Object}  fact  a Fact Object.\n   * @return {void}\n   */\n  add (fact) {\n    const attribute = fact[1]\n    let addedIndex = -1\n    if (this.schema[attribute].cardinality === 'one') {\n      const idx = this.find(fact)\n\n      // look for actual facts to overwrite the existing one\n      // if not present, push\n      if (idx === -1) {\n        addedIndex = this.actualItems.push(fact) - 1\n      } else {\n        addedIndex = idx\n        // else overwrite\n        this.actualItems[idx] = fact\n      }\n    }\n\n    if (this.schema[attribute].cardinality === 'many') {\n      // just push and updates the idx variable\n      addedIndex = this.actualItems.push(fact) - 1\n    }\n\n    this.addToHashMap(fact, addedIndex)\n  }\n\n  /**\n   * Finds a fact in the hashmap using entityName and attribute as key.\n   * Works like Array.prototype.findIndex\n   * @return {Number} index   The index of the item on the this.actualItems array\n   */\n  find (fact) {\n    const [entityName, attribute] = fact\n\n    if (this.hashMap[entityName] && this.hashMap[entityName][attribute]) {\n      return this.hashMap[entityName][attribute]['index']\n    }\n\n    return -1\n  }\n\n  /**\n   * Removes a fact.\n   * @param {Object} fact   The fact object.\n   * @returns {void}\n   */\n  remove (fact) {\n    const idx = this.actualItems.findIndex(item => compareFacts(item, fact))\n    if (idx !== -1) {\n      this.actualItems.splice(idx, 1)\n      this.removeFromHashMap(fact)\n    }\n    return idx\n  }\n\n  /**\n   * Print items on the console.\n   */\n  print () {\n    console.log(this.actualItems)\n  }\n\n  /**\n   * Adds a fact to the hashmap.\n   *\n   * @param {Object} fact   The fact object.\n   * @param {Number} index  The index of the item on this.actualItems array\n   */\n  addToHashMap (fact, index) {\n    const [entityName, attribute, value] = fact\n\n    if (!this.hashMap[entityName]) {\n      this.hashMap[entityName] = {}\n    }\n\n    if (!this.hashMap[entityName][attribute]) {\n      this.hashMap[entityName][attribute] = {}\n    }\n\n    if (!this.hashMap[entityName][attribute][value]) {\n      this.hashMap[entityName][attribute]['index'] = index\n      this.hashMap[entityName][attribute]['value'] = value\n    }\n  }\n\n  /**\n   * Removes a fact from Hashmap.\n   * @param {Object} fact The fact object.\n   * @return {void}\n   */\n  removeFromHashMap (fact) {\n    const [entityName, attribute, value] = fact\n\n    if (this.hashMap[entityName] && this.hashMap[entityName][attribute] && this.hashMap[entityName][attribute][value]) {\n      delete this.hashMap[entityName][attribute]\n    }\n  }\n\n  /**\n   * Applies the schema and save the results into the actualFacts property.\n   * @return {void}\n   */\n  applySchema () {\n    this.items.map(fact => {\n      const {attribute, valid} = parseFact(fact)\n\n      // validate schema for the attribute\n      validateAttributeSchema(this.schema, attribute)\n\n      // if valid try to add\n      if (valid) {\n        this.add(fact)\n      } else {\n        // if entity exists, delete it\n        this.remove(fact)\n      }\n    })\n  }\n}\n\n/**\n * Compare facts A and B.\n *\n * @param  {Object}   factA Fact object A\n * @param  {Object}   factB Fact object B\n * @return {Boolean}  returns if comparison is true\n */\nfunction compareFacts (factA, factB) {\n  return factA[0] === factB[0] && factA[1] === factB[1]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/FactsCollection.js","export {\n    validatePhone,\n    validateAttributeSchema\n}\n\n/**\n * Validates an attribute's schema.\n *\n * @param  {Object} schema    The schema object.\n * @param  {String} attribute The attribute value.\n *\n * @throws InvalidAttributeSchema If schema is invalid.\n *\n * @return {void}\n */\nfunction validateAttributeSchema (schema, attribute) {\n  if (!schema[attribute]) {\n    throw new Error(`Schema not defined for attribute: ${attribute}`)\n  }\n  if (!schema[attribute].cardinality) {\n    throw new Error(`Schema for \"cardinality\" not defined for attribute: ${attribute}`)\n  }\n}\n\n/**\n * Validates a telephone number.\n *\n * @param  {String} phone   The phone number.\n * @param  {String} country The country code.\n *\n * @return {Boolean}      returns true if it is a valid phone.\n */\nfunction validatePhone (phone, country = 'BR') {\n  switch (country) {\n    case 'BR':\n      return /\\d{4,5}-{0,1}\\d{4}/.test(phone)\n    default:\n      throw new Error(`Validation for country: ${country} not found.`)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/validators.js","import schema from './resources/schema'\nimport facts from './resources/facts'\nimport {parseSchema} from './parsers'\nimport getActualFacts from './getActualFactsHashmap'\n\nconst schemaObject = parseSchema(schema)\nconst actualFacts = getActualFacts(schemaObject, facts)\n\n// better visualization on browser\nif (typeof console.table === 'function') {\n  console.table(actualFacts)\n} else {\n  console.log(actualFacts)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}